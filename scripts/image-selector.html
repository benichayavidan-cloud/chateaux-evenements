<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>S√©lecteur d'Images Ch√¢teaux</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }

    .header {
      background: white;
      padding: 30px;
      border-radius: 12px;
      margin-bottom: 30px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    h1 {
      color: #2c3e50;
      margin-bottom: 10px;
    }

    .instructions {
      color: #666;
      line-height: 1.6;
    }

    .chateau-section {
      background: white;
      padding: 30px;
      border-radius: 12px;
      margin-bottom: 30px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .chateau-title {
      font-size: 24px;
      color: #a37e2c;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid #a37e2c;
    }

    .selection-panel {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 30px;
    }

    .selection-row {
      display: flex;
      gap: 20px;
      margin-bottom: 15px;
      align-items: center;
    }

    .selection-row label {
      font-weight: 600;
      color: #2c3e50;
      min-width: 120px;
    }

    .selection-row select {
      flex: 1;
      padding: 10px;
      border: 2px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
    }

    .selection-row select:focus {
      outline: none;
      border-color: #a37e2c;
    }

    .preview-box {
      display: inline-block;
      width: 100px;
      height: 100px;
      border: 2px solid #ddd;
      border-radius: 6px;
      overflow: hidden;
      background: white;
    }

    .preview-box img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .images-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .image-card {
      background: white;
      border: 3px solid #e0e0e0;
      border-radius: 8px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
    }

    .image-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      border-color: #a37e2c;
    }

    .image-card.selected {
      border-color: #a37e2c;
      box-shadow: 0 0 0 3px rgba(163, 126, 44, 0.2);
    }

    .image-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      display: block;
    }

    .image-card .label {
      padding: 10px;
      text-align: center;
      font-size: 13px;
      color: #666;
      background: #f8f9fa;
    }

    .badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #a37e2c;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: bold;
    }

    .export-section {
      position: sticky;
      bottom: 20px;
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 -2px 20px rgba(0,0,0,0.15);
      text-align: center;
    }

    .btn {
      background: #a37e2c;
      color: white;
      border: none;
      padding: 15px 40px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
    }

    .btn:hover {
      background: #8a6823;
    }

    .btn:active {
      transform: scale(0.98);
    }

    #output {
      margin-top: 20px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 12px;
      max-height: 400px;
      overflow-y: auto;
      white-space: pre-wrap;
      text-align: left;
      display: none;
    }

    .copy-btn {
      background: #28a745;
      margin-top: 10px;
      padding: 10px 20px;
      font-size: 14px;
    }

    .copy-btn:hover {
      background: #218838;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>üè∞ S√©lecteur d'Images Ch√¢teaux</h1>
    <div class="instructions">
      <p><strong>Instructions :</strong></p>
      <ul>
        <li><strong>Hero Slider</strong> : Clique sur plusieurs images pour cr√©er un slider</li>
        <li><strong>OpenGraph & Card</strong> : Utilise les menus d√©roulants pour choisir UNE image</li>
        <li><strong>Galerie</strong> : Clique sur les images pour s√©lectionner plusieurs</li>
        <li>Clique sur "G√©n√©rer le code" pour obtenir le code √† copier dans chateaux.ts</li>
      </ul>
    </div>
  </div>

  <div id="chateaux-container"></div>

  <div class="export-section">
    <button class="btn" onclick="generateCode()">üìã G√©n√©rer le Code</button>
    <button class="btn copy-btn" onclick="copyCode()" style="display:none;" id="copyBtn">üìÑ Copier le Code</button>
    <div id="output"></div>
  </div>

  <script>
    const imageData = {
  "chantilly": [
    {
      "name": "chantilly-1.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chantilly/chantilly-1.webp"
    },
    {
      "name": "chantilly-10.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chantilly/chantilly-10.webp"
    },
    {
      "name": "chantilly-2.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chantilly/chantilly-2.webp"
    },
    {
      "name": "chantilly-3.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chantilly/chantilly-3.webp"
    },
    {
      "name": "chantilly-4.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chantilly/chantilly-4.webp"
    },
    {
      "name": "chantilly-5.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chantilly/chantilly-5.webp"
    },
    {
      "name": "chantilly-6.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chantilly/chantilly-6.webp"
    },
    {
      "name": "chantilly-7.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chantilly/chantilly-7.webp"
    },
    {
      "name": "chantilly-8.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chantilly/chantilly-8.webp"
    },
    {
      "name": "chantilly-9.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chantilly/chantilly-9.webp"
    }
  ],
  "hauts-de-seine": [
    {
      "name": "hauts-de-seine-1.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-1.webp"
    },
    {
      "name": "hauts-de-seine-10.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-10.webp"
    },
    {
      "name": "hauts-de-seine-11.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-11.webp"
    },
    {
      "name": "hauts-de-seine-12.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-12.webp"
    },
    {
      "name": "hauts-de-seine-13.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-13.webp"
    },
    {
      "name": "hauts-de-seine-14.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-14.webp"
    },
    {
      "name": "hauts-de-seine-15.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-15.webp"
    },
    {
      "name": "hauts-de-seine-16.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-16.webp"
    },
    {
      "name": "hauts-de-seine-17.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-17.webp"
    },
    {
      "name": "hauts-de-seine-18.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-18.webp"
    },
    {
      "name": "hauts-de-seine-19.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-19.webp"
    },
    {
      "name": "hauts-de-seine-2.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-2.webp"
    },
    {
      "name": "hauts-de-seine-20.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-20.webp"
    },
    {
      "name": "hauts-de-seine-21.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-21.webp"
    },
    {
      "name": "hauts-de-seine-22.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-22.webp"
    },
    {
      "name": "hauts-de-seine-23.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-23.webp"
    },
    {
      "name": "hauts-de-seine-24.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-24.webp"
    },
    {
      "name": "hauts-de-seine-3.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-3.webp"
    },
    {
      "name": "hauts-de-seine-4.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-4.webp"
    },
    {
      "name": "hauts-de-seine-5.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-5.webp"
    },
    {
      "name": "hauts-de-seine-6.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-6.webp"
    },
    {
      "name": "hauts-de-seine-7.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-7.webp"
    },
    {
      "name": "hauts-de-seine-8.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-8.webp"
    },
    {
      "name": "hauts-de-seine-9.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/hauts-de-seine/hauts-de-seine-9.webp"
    }
  ],
  "chevreuse": [
    {
      "name": "chevreuse-1.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-1.webp"
    },
    {
      "name": "chevreuse-10.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-10.webp"
    },
    {
      "name": "chevreuse-11.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-11.webp"
    },
    {
      "name": "chevreuse-12.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-12.webp"
    },
    {
      "name": "chevreuse-13.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-13.webp"
    },
    {
      "name": "chevreuse-14.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-14.webp"
    },
    {
      "name": "chevreuse-15.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-15.webp"
    },
    {
      "name": "chevreuse-16.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-16.webp"
    },
    {
      "name": "chevreuse-17.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-17.webp"
    },
    {
      "name": "chevreuse-18.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-18.webp"
    },
    {
      "name": "chevreuse-19.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-19.webp"
    },
    {
      "name": "chevreuse-2.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-2.webp"
    },
    {
      "name": "chevreuse-20.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-20.webp"
    },
    {
      "name": "chevreuse-21.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-21.webp"
    },
    {
      "name": "chevreuse-22.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-22.webp"
    },
    {
      "name": "chevreuse-3.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-3.webp"
    },
    {
      "name": "chevreuse-4.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-4.webp"
    },
    {
      "name": "chevreuse-5.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-5.webp"
    },
    {
      "name": "chevreuse-6.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-6.webp"
    },
    {
      "name": "chevreuse-7.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-7.webp"
    },
    {
      "name": "chevreuse-8.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-8.webp"
    },
    {
      "name": "chevreuse-9.webp",
      "url": "https://jmeiepmtgidqtmxfnlwf.supabase.co/storage/v1/object/public/chateaux-images/chevreuse/chevreuse-9.webp"
    }
  ]
};

    const chateauxConfig = {
      chantilly: {
        name: 'Chantilly',
        fullName: 'Le Manoir Anglo-Normand & Son Parc (Chantilly)'
      },
      'hauts-de-seine': {
        name: 'Hauts-de-Seine',
        fullName: 'Le Refuge Historique Suspendu (Portes de Paris)'
      },
      chevreuse: {
        name: 'Chevreuse',
        fullName: "L'Abbaye Mill√©naire & Son √âtang (78)"
      }
    };

    const selections = {};

    function initSelections() {
      for (const slug in chateauxConfig) {
        selections[slug] = {
          hero: [],
          openGraph: '',
          card: '',
          galerie: []
        };
      }
    }

    function createChateauSection(slug, config) {
      const images = imageData[slug] || [];

      return `
        <div class="chateau-section">
          <h2 class="chateau-title">${config.fullName}</h2>

          <div class="selection-panel">
            <div class="selection-row">
              <label>OpenGraph :</label>
              <select id="${slug}-openGraph" onchange="updateSelection('${slug}', 'openGraph', this.value)">
                <option value="">-- Choisir --</option>
                ${images.map(img => `<option value="${img.url}">${img.name}</option>`).join('')}
              </select>
              <div class="preview-box" id="${slug}-openGraph-preview"></div>
            </div>

            <div class="selection-row">
              <label>Card :</label>
              <select id="${slug}-card" onchange="updateSelection('${slug}', 'card', this.value)">
                <option value="">-- Choisir --</option>
                ${images.map(img => `<option value="${img.url}">${img.name}</option>`).join('')}
              </select>
              <div class="preview-box" id="${slug}-card-preview"></div>
            </div>
          </div>

          <h3 style="margin: 20px 0 10px; color: #2c3e50;">Hero Slider (clique pour s√©lectionner plusieurs) :</h3>
          <div class="images-grid" id="${slug}-hero-grid">
            ${images.map(img => `
              <div class="image-card" data-url="${img.url}" onclick="toggleHero('${slug}', '${img.url}')">
                <img src="${img.url}" alt="${img.name}">
                <div class="label">${img.name}</div>
              </div>
            `).join('')}
          </div>

          <h3 style="margin: 20px 0 10px; color: #2c3e50;">Galerie (clique sur les images pour s√©lectionner) :</h3>
          <div class="images-grid" id="${slug}-gallery-grid">
            ${images.map(img => `
              <div class="image-card" data-url="${img.url}" onclick="toggleGallery('${slug}', '${img.url}')">
                <img src="${img.url}" alt="${img.name}">
                <div class="label">${img.name}</div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    function updateSelection(slug, type, url) {
      selections[slug][type] = url;

      // Update preview
      const preview = document.getElementById(`${slug}-${type}-preview`);
      if (url) {
        preview.innerHTML = `<img src="${url}" alt="Preview">`;
      } else {
        preview.innerHTML = '';
      }
    }

    function toggleHero(slug, url) {
      const card = document.querySelector(`#${slug}-hero-grid [data-url="${url}"]`);
      const index = selections[slug].hero.indexOf(url);

      if (index > -1) {
        selections[slug].hero.splice(index, 1);
        card.classList.remove('selected');
        card.querySelector('.badge')?.remove();
      } else {
        selections[slug].hero.push(url);
        card.classList.add('selected');
        const badge = document.createElement('div');
        badge.className = 'badge';
        badge.textContent = `#${selections[slug].hero.length}`;
        card.appendChild(badge);
      }
    }

    function toggleGallery(slug, url) {
      const card = document.querySelector(`#${slug}-gallery-grid [data-url="${url}"]`);
      const index = selections[slug].galerie.indexOf(url);

      if (index > -1) {
        selections[slug].galerie.splice(index, 1);
        card.classList.remove('selected');
        card.querySelector('.badge')?.remove();
      } else {
        selections[slug].galerie.push(url);
        card.classList.add('selected');
        const badge = document.createElement('div');
        badge.className = 'badge';
        badge.textContent = `#${selections[slug].galerie.length}`;
        card.appendChild(badge);
      }
    }

    function generateCode() {
      let code = '// üè∞ Configuration des images par ch√¢teau\n\n';

      for (const [slug, config] of Object.entries(chateauxConfig)) {
        const sel = selections[slug];
        code += `// ${config.fullName}\n`;
        code += `images: {\n`;
        code += `  hero: [\n`;
        sel.hero.forEach(url => {
          code += `    "${url}",\n`;
        });
        code += `  ],\n`;
        code += `  openGraph: "${sel.openGraph}",\n`;
        code += `  card: "${sel.card}",\n`;
        code += `  galerie: [\n`;
        sel.galerie.forEach(url => {
          code += `    "${url}",\n`;
        });
        code += `  ]\n`;
        code += `},\n\n`;
      }

      const output = document.getElementById('output');
      output.textContent = code;
      output.style.display = 'block';
      document.getElementById('copyBtn').style.display = 'inline-block';
    }

    function copyCode() {
      const output = document.getElementById('output');
      navigator.clipboard.writeText(output.textContent);

      const btn = document.getElementById('copyBtn');
      btn.textContent = '‚úÖ Copi√© !';
      setTimeout(() => {
        btn.textContent = 'üìÑ Copier le Code';
      }, 2000);
    }

    // Initialize
    initSelections();
    const container = document.getElementById('chateaux-container');
    for (const [slug, config] of Object.entries(chateauxConfig)) {
      container.innerHTML += createChateauSection(slug, config);
    }
  </script>
</body>
</html>
